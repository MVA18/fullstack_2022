{"ast":null,"code":"import anecdoteService from '../services/anecdotes';\nimport { createSlice } from \"@reduxjs/toolkit\";\nconst anecdoteSlice = createSlice({\n  name: 'anecdotes',\n  initialState: [],\n  reducers: {\n    upvote(state, action) {\n      state.filter(anecdote => {\n        console.log(anecdote.id);\n        console.log(action.payload.id);\n        return anecdote.id === action.payload.id ? action.payload : anecdote;\n      });\n    },\n\n    create(state, action) {\n      state.push(action.payload);\n    },\n\n    set(state, action) {\n      return action.payload;\n    }\n\n  }\n});\nexport const {\n  create,\n  upvote,\n  set\n} = anecdoteSlice.actions;\nexport const initializeAnecdotes = () => {\n  return async dispatch => {\n    const anecdotes = await anecdoteService.getAll();\n    dispatch(set(anecdotes));\n  };\n};\nexport const createNewAnecdote = content => {\n  return async dispatch => {\n    const newAnecdote = await anecdoteService.createNew(content);\n    dispatch(create(newAnecdote));\n  };\n};\nexport const upvoteAnecdote = anecdote => {\n  return async dispatch => {\n    let updateAnecdote = { ...anecdote\n    };\n    updateAnecdote.votes++;\n    await anecdoteService.upvote(updateAnecdote).then(anecdote => {\n      dispatch(upvote(anecdote));\n    });\n  };\n};\nexport default anecdoteSlice.reducer;","map":{"version":3,"sources":["/home/mva18/Projects/fullstack_2022/part6/redux-anecdotes/src/reducers/anecdoteReducer.js"],"names":["anecdoteService","createSlice","anecdoteSlice","name","initialState","reducers","upvote","state","action","filter","anecdote","console","log","id","payload","create","push","set","actions","initializeAnecdotes","dispatch","anecdotes","getAll","createNewAnecdote","content","newAnecdote","createNew","upvoteAnecdote","updateAnecdote","votes","then","reducer"],"mappings":"AAAA,OAAOA,eAAP,MAA4B,uBAA5B;AACA,SAAQC,WAAR,QAA0B,kBAA1B;AAEA,MAAMC,aAAa,GAAGD,WAAW,CAAC;AAC9BE,EAAAA,IAAI,EAAE,WADwB;AAE9BC,EAAAA,YAAY,EAAE,EAFgB;AAG9BC,EAAAA,QAAQ,EAAE;AACNC,IAAAA,MAAM,CAACC,KAAD,EAAQC,MAAR,EAAgB;AAClBD,MAAAA,KAAK,CAACE,MAAN,CAAaC,QAAQ,IAAI;AACrBC,QAAAA,OAAO,CAACC,GAAR,CAAYF,QAAQ,CAACG,EAArB;AACAF,QAAAA,OAAO,CAACC,GAAR,CAAYJ,MAAM,CAACM,OAAP,CAAeD,EAA3B;AACA,eAAOH,QAAQ,CAACG,EAAT,KAAgBL,MAAM,CAACM,OAAP,CAAeD,EAA/B,GAAoCL,MAAM,CAACM,OAA3C,GAAqDJ,QAA5D;AACH,OAJD;AAKH,KAPK;;AAQNK,IAAAA,MAAM,CAACR,KAAD,EAAQC,MAAR,EAAgB;AAClBD,MAAAA,KAAK,CAACS,IAAN,CAAWR,MAAM,CAACM,OAAlB;AACH,KAVK;;AAWNG,IAAAA,GAAG,CAACV,KAAD,EAAQC,MAAR,EAAgB;AACf,aAAOA,MAAM,CAACM,OAAd;AACH;;AAbK;AAHoB,CAAD,CAAjC;AAoBA,OAAO,MAAM;AAAEC,EAAAA,MAAF;AAAUT,EAAAA,MAAV;AAAkBW,EAAAA;AAAlB,IAA0Bf,aAAa,CAACgB,OAA9C;AAEP,OAAO,MAAMC,mBAAmB,GAAG,MAAM;AACrC,SAAO,MAAMC,QAAN,IAAkB;AACrB,UAAMC,SAAS,GAAG,MAAMrB,eAAe,CAACsB,MAAhB,EAAxB;AACAF,IAAAA,QAAQ,CAACH,GAAG,CAACI,SAAD,CAAJ,CAAR;AACH,GAHD;AAIH,CALM;AAOP,OAAO,MAAME,iBAAiB,GAAGC,OAAO,IAAI;AACxC,SAAO,MAAMJ,QAAN,IAAkB;AACrB,UAAMK,WAAW,GAAG,MAAMzB,eAAe,CAAC0B,SAAhB,CAA0BF,OAA1B,CAA1B;AACAJ,IAAAA,QAAQ,CAACL,MAAM,CAACU,WAAD,CAAP,CAAR;AACH,GAHD;AAIH,CALM;AAOP,OAAO,MAAME,cAAc,GAAGjB,QAAQ,IAAI;AACtC,SAAO,MAAMU,QAAN,IAAkB;AACrB,QAAIQ,cAAc,GAAG,EAAE,GAAGlB;AAAL,KAArB;AACAkB,IAAAA,cAAc,CAACC,KAAf;AACA,UAAM7B,eAAe,CAACM,MAAhB,CAAuBsB,cAAvB,EAAuCE,IAAvC,CAA6CpB,QAAD,IAAc;AAC5DU,MAAAA,QAAQ,CAACd,MAAM,CAACI,QAAD,CAAP,CAAR;AACH,KAFK,CAAN;AAGH,GAND;AAOH,CARM;AASP,eAAeR,aAAa,CAAC6B,OAA7B","sourcesContent":["import anecdoteService from '../services/anecdotes'\nimport {createSlice} from \"@reduxjs/toolkit\";\n\nconst anecdoteSlice = createSlice({\n    name: 'anecdotes',\n    initialState: [],\n    reducers: {\n        upvote(state, action) {\n            state.filter(anecdote => {\n                console.log(anecdote.id)\n                console.log(action.payload.id)\n                return anecdote.id === action.payload.id ? action.payload : anecdote\n            })\n        },\n        create(state, action) {\n            state.push(action.payload)\n        },\n        set(state, action) {\n            return action.payload\n        }\n    },\n})\n\nexport const { create, upvote, set } = anecdoteSlice.actions\n\nexport const initializeAnecdotes = () => {\n    return async dispatch => {\n        const anecdotes = await anecdoteService.getAll()\n        dispatch(set(anecdotes))\n    }\n}\n\nexport const createNewAnecdote = content => {\n    return async dispatch => {\n        const newAnecdote = await anecdoteService.createNew(content)\n        dispatch(create(newAnecdote))\n    }\n}\n\nexport const upvoteAnecdote = anecdote => {\n    return async dispatch => {\n        let updateAnecdote = { ...anecdote }\n        updateAnecdote.votes++\n        await anecdoteService.upvote(updateAnecdote).then((anecdote) => {\n            dispatch(upvote(anecdote))\n        })\n    }\n}\nexport default anecdoteSlice.reducer"]},"metadata":{},"sourceType":"module"}